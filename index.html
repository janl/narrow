<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/">

  <head>
    <meta charset="utf-8">
    <title>Narrow the Gapp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta itemprop="name" content="Narrow the Gapp">
    <meta itemprop="image" content="http://narrowthegapp.comimg/narrow-the-gapp.jpg">
    <meta name="author" content="">
    <meta property="og:title" content="Narrow the Gapp" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://narrowthegapp.com/" />
    <meta property="og:image" content="http://narrowthegapp.comimg/narrow-the-gapp.jpg" />
    <meta property="og:site_name" content="Narrow the Gapp" />
    <meta property="fb:admins" content="606837591" />

    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
        background-color:#F5F5F5;
        font-family: 'Open Sans', sans-serif;
      }
      p {
        font-family: 'Open Sans', sans-serif;
      }
      .hero-unit {
        background-color:#fff;
      }
      a {
        color:#006DCC;
      }
      a:hover {
        color:#006DCC;
      }

    .btn-custom {
      background-color: hsl(0, 0%, 16%) !important;
      background-repeat: repeat-x;
      filter: e(%("progid:DXImageTransform.Microsoft.gradient(startColorstr='%d', endColorstr='%d', GradientType=0)", #5b5b5b, #282828));
      background-image: -khtml-gradient(linear, left top, left bottom, from(#5b5b5b), to(#282828));
      background-image: -moz-linear-gradient(top, #5b5b5b, #282828);
      background-image: -ms-linear-gradient(top, #5b5b5b, #282828);
      background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #5b5b5b), color-stop(100%, #282828));
      background-image: -webkit-linear-gradient(top, #5b5b5b, #282828);
      background-image: -o-linear-gradient(top, #5b5b5b, #282828);
      background-image: linear-gradient(#5b5b5b, #282828);
      border-color: #282828 #282828 hsl(0, 0%, 11%);
      color: #fff !important;
      text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.33);
      -webkit-font-smoothing: antialiased;
    }
    </style>
    <link href="css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-114x114.png">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
  </head>

  <body>
    <div id="fb-root"></div>
    <div class="container">
      <!-- Main hero unit for a primary call to action -->
      <div class="hero-unit">
        <h1><span style="color:#006DCC">{{occupation}}</span> verdienen <span style="color:red">{{on_the_euro}}&nbsp;Cent</span> pro Euro wie ein Mann mit demselben Job.</h1>
        <br>
        <p>Das sind {{less_per_month}} € weniger im Monat und {{less_per_year}} € weniger im Jahr.</p>
        <div style="float:left;margin-top:20px">
            <a href="https://twitter.com/intent/tweet?&amp;related={{share.related}}&amp;text={{share.text}}&amp;url={{share.url}}&amp;via={{share.via}}&amp;lang=de"><img src="img/twitter.png" /></a>
            <a href="http://www.facebook.com/sharer.php?u={{share.url}}&amp;t={{share.text}}"><img src="img/facebook.png" /></a>
            <a id="plus1" href="javascript:loadPlusOne()"><img src="img/plusone.png" /></a>
        </div>
        <p align="right" style="margin-top:30px"><a class="btn btn-custom btn-large" href="">{{exclamation}} Zeig mir mehr &raquo;</a></p>
        <br style="clear:all;">
      </div>
      <div class="row">
        <div class="span4">
          <h2>Unfair and Illegal</h2>
           <p>Nearly 50 years after President Kennedy signed the <a href="http://www.eeoc.gov/laws/statutes/epa.cfm">Equal Pay Act</a>, on average women are still paid less than their male counterparts for doing comparable jobs in the U.S. &mdash; that's called the pay gap. It means that each time the average woman starts a new job, she's likely to start from a lower base salary than her male counterparts.</p>
           <p>Just as interest compounds, so does the pay gap. As a woman moves from job to job during her career, the pay gap between her and her male colleagues is likely to become wider and wider.</p>
           <p><a href="?i=50">Personal financial advisors</a> and <a href="?i=122">legal occupations</a> suffer the largest gender pay gaps. <a href="?i=253">Personal and home care aides</a> and <a href="?i=132">special education teachers</a> have the smallest pay gaps.</p> 
           <p>Unequal pay isn't just unfair, it's illegal. But unless men and women who have the same job discuss what they're getting paid, unequal pay can go unaddressed indefinitely.</p>
        </div>
        <div class="span4">
          <h2>Narrow the Gap</h2>
          <p>Insist on equal pay for equal work in your and your loved ones' workplaces. Here's what you can do.</p>
          <ul>
          <li><strong>Get educated</strong> about <a href="http://www.eeoc.gov/laws/types/equalcompensation.cfm">Equal Pay and Compensation Discrimination</a>.</li>
          <li><strong>Raise awareness</strong> about the pay gap. To start, tweet, like, share, +1, and blog a page from this site.</li>
          <li><strong>Talk to employees and employers</strong> you know about the pay gap, salary negotiation techniques, and equal pay laws.</li>
          </ul>
          <p>Starter resources include:</p>
          <p><a href="http://www.amazon.com/o/ASIN/0553383876/ref=nosim/lifehackerboo-20">Women Don't Ask: The High Cost of Avoiding Negotiation--and Positive Strategies for Change</a></p>
          <p>What else should be listed here?
          <p><a class="btn" href="http://www.google.com/profiles/ginatrapani/contactme">Suggest a resource &raquo;</a></p>
       </div>
        <div class="span4">
          <h2>Hack On It</h2>
          <p>If we cite the numbers, we can change the numbers. Boatloads of data just like this is freely available from the <a href="http://www.dol.gov/">U.S. Department of Labor</a> and beyond.</p>
          <p>Developers, make an app which uses the data to help job seekers and employers narrow the pay gap.</p>
          <p>Submit your world-changing creation to the <a href="http://equalpay.challenge.gov/">Equal Pay App Challenge</a> between now and March 31st, 2012.</p>
          <br>
          <p><a class="btn-large btn-success" href="http://equalpay.challenge.gov/">Accept the challenge &raquo;</a></p>
        </div>
      </div>

      <hr>

      <div class="row" style="margin-top:20px;margin-bottom:10px;">
        <div class="span12">
            <h2>Tell people how it is in <em>your</em> line of work.</h2>
        </div>
      </div>
      <div class="row" id="gaplist">
      </div>

      <hr>

      <footer>
        <p><a href="ftp://ftp.bls.gov/pub/special.requests/lf/aat39.txt">Source</a>: <a href="http://bls.gov">U.S. Bureau of Labor Statistics</a>. Pay gap based on 2010 median weekly earnings of full-time salary workers over 16 years of age in the United States.</p>
        <p>A <a href="http://ginatrapani.org">Gina Trapani</a> Production. Made with open data, <a href="https://github.com/janl/mustache.js">Mustache</a>, <a href="http://twitter.github.com/bootstrap/">Bootstrap</a>, insomnia, outrage, and hope. JS-ification by <a href="https://github.com/janl">Jan L</a>. <a href="http://github.com/janl/narrow">Fork this app on GitHub.</a></p>
      </footer>

    </div> <!-- /container -->

    <!-- Dumb hack to give Pinterest bookmarklet an image, argh -->
    <img src="http://narrowthegapp.com/images/narrow-the-gapp.jpg" style="visibility:hidden;"/>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/mustache.js"></script>

    <script src="gap.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
        (function($) {
            function parse_url(url_string) {
                url_string = url_string.substr(1);
                var params = url_string.split("&");
                var obj = {};
                params.forEach(function(param) {
                    var kv = param.split("=");
                    obj[kv[0]] = kv[1];
                });
                return obj;
            }

            // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Math/random
            // Returns a random integer between min and max
            // Using Math.round() will give you a non-uniform distribution!
            function getRandomInt(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }

            var getNr = function(from, to) {
                if(!window.location.search) {
                    return getRandomInt(from, to);
                }

                var params = parse_url(window.location.search);
                if(!params.l) {
                    return getRandomInt(from, to);
                }

                var l = parseInt(params.l);
                if((l < 0) || (l > to)) {
                    return getRandomInt(from, to);
                }

                return l;
            }

            var nr = getNr(0, gaps.length - 1);

            var gap = gaps[nr];
            var exclamation = exclamations[nr % (exclamations.length - 1)];
            gap.exclamation = exclamation;

            /*
            Example (per month):
                him: 100
                her: 80
                less_per_month: (him - her) = 20
                less_per_year: (him - her) * 12 = 240
                on_the_euro: 100 / him * her = 0.8
            */

            gap.less_per_month = function() {
                return this.him - this.her;
            };

            gap.less_per_year = function() {
                return (this.him - this.her) * 12;
            };

            gap.on_the_euro = function() {
                return Math.round(100 / this.him * this.her);
            }

            var unit = $(".hero-unit");
            var template = unit.html();
            var out = Mustache.render(template, gap);
            unit.html(out);

            // list
            var groups = {};
            var groups_length = 0;
            gaps.forEach(function(gap, index) {
               if(!groups[gap.group])  { // init group
                   groups[gap.group] = [];
                   groups_length++;
               }
               groups[gap.group].push(index);
            });

            var list = $("#gaplist");
            var idx = 1;
            var listml = '';
            listml += '<div class="span4">';
            for(var group in groups) {
                listml += "<h3>" + group + "</h3>";
                groups[group].forEach(function(gapNr) {
                    if(!gaps[gapNr]) {
                        console.log("indexed a gap that doesn't exist: " + gapNr);
                    }
                    var gap = gaps[gapNr];
                    listml += '<a href="?l=' + gapNr + '">' + gaps[gapNr].occupation + '</a><br>';
                });
                if((idx++ % Math.ceil(groups_length / 3)) == 0) {
                    listml += '</div><div class="span4">';
                }
            }
            listml += "</div>";
            list.html(listml);
        })($);

        function loadPlusOne() {
            // thanks to phil from nomnomnom.de for inspiration
            var jsnode = document.createElement('script');
            jsnode.setAttribute('type','text/javascript');
            jsnode.setAttribute('src','https://apis.google.com/js/plusone.js');
            document.getElementsByTagName('head')[0].appendChild(jsnode);
            document.getElementById('plus1').innerHTML = "<g:plusone></g:plusone>";
        }
    </script>

  </body>
</html>
